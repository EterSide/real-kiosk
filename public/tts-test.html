<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTS í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 600px;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 20px;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
        }
        button:hover {
            background: #45a049;
            transform: scale(1.05);
        }
        button:active {
            transform: scale(0.95);
        }
        .log {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        .error { color: #ff6b6b; }
        .success { color: #51cf66; }
        .info { color: #74c0fc; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”Š TTS í…ŒìŠ¤íŠ¸</h1>
        <p>ë¸Œë¼ìš°ì €ì˜ ìŒì„± í•©ì„±(TTS) ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤</p>
        
        <button onclick="testTTS()">ğŸ¤ í•œêµ­ì–´ TTS í…ŒìŠ¤íŠ¸</button>
        <button onclick="listVoices()">ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ ìŒì„± ëª©ë¡</button>
        <button onclick="clearLog()">ğŸ—‘ï¸ ë¡œê·¸ ì§€ìš°ê¸°</button>
        
        <div class="log" id="log"></div>
    </div>

    <script>
        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const className = type === 'error' ? 'error' : type === 'success' ? 'success' : 'info';
            logDiv.innerHTML += `<div class="${className}">[${new Date().toLocaleTimeString()}] ${message}</div>`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
            log('ë¡œê·¸ ì´ˆê¸°í™”ë¨', 'info');
        }

        function listVoices() {
            log('ìŒì„± ëª©ë¡ ì¡°íšŒ ì¤‘...', 'info');
            
            const synth = window.speechSynthesis;
            const voices = synth.getVoices();
            
            if (voices.length === 0) {
                log('âŒ ìŒì„±ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', 'error');
                return;
            }
            
            log(`âœ… ì´ ${voices.length}ê°œì˜ ìŒì„± ë°œê²¬`, 'success');
            voices.forEach((voice, idx) => {
                const isKorean = voice.lang.startsWith('ko');
                log(`${idx + 1}. ${voice.name} (${voice.lang}) ${voice.default ? 'â­ ê¸°ë³¸' : ''} ${isKorean ? 'ğŸ‡°ğŸ‡·' : ''}`, isKorean ? 'success' : 'info');
            });
        }

        function testTTS() {
            log('TTS í…ŒìŠ¤íŠ¸ ì‹œì‘...', 'info');
            
            const synth = window.speechSynthesis;
            synth.cancel();
            
            const text = 'ì–´ì„œì˜¤ì„¸ìš” ê³ ê°ë‹˜, ì£¼ë¬¸ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.';
            const utterance = new SpeechSynthesisUtterance(text);
            
            utterance.lang = 'ko-KR';
            utterance.rate = 1.0;
            utterance.pitch = 1.0;
            utterance.volume = 1.0;
            
            const voices = synth.getVoices();
            const koreanVoice = voices.find(v => v.lang.startsWith('ko'));
            
            if (koreanVoice) {
                utterance.voice = koreanVoice;
                log(`âœ… í•œêµ­ì–´ ìŒì„± ì„ íƒ: ${koreanVoice.name}`, 'success');
            } else {
                log('âš ï¸ í•œêµ­ì–´ ìŒì„±ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê¸°ë³¸ ìŒì„± ì‚¬ìš©', 'error');
            }
            
            utterance.onstart = () => {
                log('ğŸµ TTS ì¬ìƒ ì‹œì‘!', 'success');
            };
            
            utterance.onend = () => {
                log('âœ… TTS ì¬ìƒ ì™„ë£Œ', 'success');
            };
            
            utterance.onerror = (e) => {
                log(`âŒ TTS ì—ëŸ¬: ${e.error}`, 'error');
                if (e.error === 'not-allowed') {
                    log('ğŸ’¡ í•´ê²°: ì‚¬ìš©ì ì¸í„°ë™ì…˜ì´ í•„ìš”í•©ë‹ˆë‹¤. ë²„íŠ¼ì„ ë‹¤ì‹œ í´ë¦­í•˜ì„¸ìš”!', 'info');
                }
            };
            
            log(`ğŸ“¤ TTS ì‹¤í–‰: "${text}"`, 'info');
            synth.speak(utterance);
            
            setTimeout(() => {
                log(`ğŸ“Š ìƒíƒœ: speaking=${synth.speaking}, pending=${synth.pending}, paused=${synth.paused}`, 'info');
            }, 100);
        }

        // ìŒì„± ëª©ë¡ ë¡œë“œ
        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = () => {
                log('ìŒì„± ëª©ë¡ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤', 'info');
            };
        }

        // ì´ˆê¸° ë¡œê·¸
        log('TTS í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì¤€ë¹„ ì™„ë£Œ', 'success');
        log('ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”', 'info');
    </script>
</body>
</html>

